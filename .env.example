# ===================================================================
# ALUFORCE Dashboard - Configuração de Ambiente
# ===================================================================
# Copie este arquivo para .env e preencha com seus valores
# NUNCA faça commit do arquivo .env real
# ===================================================================

# AMBIENTE
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# BANCO DE DADOS - ⚠️ ALTERAR SENHA EM PRODUÇÃO
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=ALTERE_ESTA_SENHA_EM_PRODUCAO
DB_NAME=aluforce_vendas
SERVER_PORT=3000
DB_CONN_LIMIT=20

# ============================================
# SEGURANÇA (⚠️ CRÍTICO - CONFIGURAR ANTES DE PRODUÇÃO!)
# ============================================
# JWT_SECRET: Deve ter no mínimo 64 caracteres
# Gere uma nova com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=sua_chave_jwt_super_secreta_minimo_64_caracteres

# Tempo de expiração do token (padrão: 24h)
JWT_EXPIRES_IN=24h

# Tempo de expiração do refresh token (padrão: 7d)
JWT_REFRESH_EXPIRES_IN=7d

# Session secret para express-session
SESSION_SECRET=outra_chave_secreta_para_sessoes_64_chars

# Cookie settings (produção)
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict
COOKIE_HTTPONLY=true

# CSRF Protection (habilitar em produção)
ENABLE_CSRF=true

# ============================================
# RATE LIMITING
# ============================================
LOGIN_RATE_LIMIT=5
API_RATE_LIMIT=100
DISABLE_RATE_LIMIT=false

# ============================================
# EMAIL (SMTP)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# ============================================
# LOGS
# ============================================
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7d

# ============================================
# CORS
# ============================================
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ============================================
# UPLOADS
# ============================================
MAX_FILE_SIZE=10mb
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# ============================================
# DESENVOLVIMENTO/TESTES (Não usar em produção)
# ============================================
DEV_MOCK=0
RETURN_TOKEN=0
# TESTES (não use senhas reais aqui)
TEST_ADMIN_EMAIL=test-admin@example.com
TEST_PASSWORD=test_password_only

# ============================================
# DISCORD — Notificações em Tempo Real
# ============================================
# Webhook: Funciona sem bot token (mais simples)
# 1. No Discord, vá em: Servidor > Canal #atualizações > Editar > Integrações > Webhooks
# 2. Crie um webhook e copie a URL
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/SEU_WEBHOOK_AQUI
DISCORD_NOTIFICATIONS_ENABLED=true

# Bot Discord (opcional - para comandos interativos !alustatus, !aluchangelog)
# 1. Acesse https://discord.com/developers/applications
# 2. New Application > Bot > Copy Token
# 3. Convide o bot: OAuth2 > URL Generator > bot + applications.commands
# 4. Permissões: Send Messages, Embed Links, Read Message History
DISCORD_BOT_ENABLED=false
DISCORD_BOT_TOKEN=
DISCORD_GUILD_ID=
DISCORD_CHANNEL_ATUALIZACOES=
DISCORD_CHANNEL_NAME=atualizações

# ============================================
# HTTPS/SSL (Produção)
# ============================================
# SSL_CERT_PATH=/etc/ssl/certs/aluforce.crt
# SSL_KEY_PATH=/etc/ssl/private/aluforce.key
# SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt
# HTTPS_PORT=443
# HTTP_PORT=80

# ============================================
# AUDITORIA E COMPLIANCE
# ============================================
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=365
SENSITIVE_DATA_ENCRYPTION=true

# ============================================
# INTEGRAÇÃO OMIE ERP (Due Diligence 2026-02-15)
# ============================================
# OBRIGATÓRIO para integração funcionar
# Chaves removidas do código-fonte por segurança
OMIE_APP_KEY=
OMIE_APP_SECRET=