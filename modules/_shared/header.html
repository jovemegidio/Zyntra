<!--     ALUFORCE Header Component    Header padrão para todos os módulos do sistema    Inclui: Logo, Navegação, Busca, Dark Mode, Notificações, Avatar--><header class="topbar">    <div class="topbar-left">        <div class="logo-section">            <img src="/Logo Monocromatico - Azul - Aluforce.webp" alt="Aluforce" class="header-logo" />        </div>    </div>        <div class="topbar-center">        <div class="nav-icons">            <button class="nav-icon-btn" title="Grid">                <i class="fas fa-th"></i>            </button>            <button class="nav-icon-btn" title="Lista">                <i class="fas fa-list"></i>            </button>            <button class="nav-icon-btn" title="Atualizar Dados" id="btn-refresh-header">                <i class="fas fa-sync-alt"></i>            </button>            <button class="nav-icon-btn" title="Alternar Modo Escuro" id="btn-dark-mode-toggle">                <i class="fas fa-moon" id="dark-mode-icon"></i>            </button>        </div>                <div class="search-wrapper" role="search" aria-label="Pesquisar">            <i class="fas fa-search search-icon" aria-hidden="true"></i>            <input id="main-search" type="search" placeholder="Buscar..." class="search-input" autocomplete="off" aria-label="Pesquisar" />            <div id="search-inline-results" class="search-inline-dropdown" role="listbox" aria-label="Resultados da busca" aria-live="polite" aria-hidden="true"></div>        </div>                <button class="menu-toggle-btn" title="Menu">            <i class="fas fa-bars"></i>        </button>    </div>        <div class="topbar-right">        <div class="notification-icons">            <button class="notification-btn" title="Notificações" id="notification-bell">                <i class="fas fa-bell"></i>                <span class="notification-badge" id="notification-count">0</span>            </button>            <button class="notification-btn" title="Mensagens">                <i class="fas fa-envelope"></i>            </button>            <button class="notification-btn" title="Configurações">                <i class="fas fa-cog"></i>            </button>        </div>                <div class="user-menu" onclick="toggleUserMenu()">            <span class="user-text" id="user-name-display">Carregando...</span>            <div class="avatar-circle">                <img src="/avatars/default.webp" alt="Usuário" id="user-avatar" onerror="this.onerror=null; this.src='/avatars/default.webp';">            </div>        </div>                <div class="user-menu-dropdown" id="user-menu-dropdown">            <div class="py-12">                <a href="#" class="dropdown-menu-item">                    <i class="fas fa-user mr-8 text-gray-400"></i>Meu Perfil                </a>                <a href="#" class="dropdown-menu-item">                    <i class="fas fa-cog mr-8 text-gray-400"></i>Configurações                </a>                <hr class="my-8 border-0 border-t border-gray-200">                <a href="/dashboard" id="btn-dashboard-link" class="dropdown-menu-item">                    <i class="fas fa-home mr-8 text-gray-400"></i>Dashboard                </a>                <a href="#" id="btn-logout" class="dropdown-menu-item-danger">                    <i class="fas fa-sign-out-alt mr-8"></i>Sair                </a>            </div>        </div>    </div></header><script>    // Toggle user menu    function toggleUserMenu() {        const dropdown = document.getElementById('user-menu-dropdown');        if (dropdown) {            dropdown.classList.toggle('show');        }    }        // Close dropdown when clicking outside    document.addEventListener('click', function(e) {        const userMenu = document.querySelector('.user-menu');        const dropdown = document.getElementById('user-menu-dropdown');        if (dropdown && userMenu && !userMenu.contains(e.target)) {            dropdown.classList.remove('show');        }    });        // Logout button    const logoutBtn = document.getElementById('btn-logout');    if (logoutBtn) {        logoutBtn.addEventListener('click', function(e) {            e.preventDefault();            if (confirm('Deseja realmente sair do sistema?')) {                // Clear auth token                document.cookie = 'authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC;';                localStorage.clear();                window.location.href = '/login.html';            }        });    }        // Dashboard link    const dashboardLink = document.getElementById('btn-dashboard-link');    if (dashboardLink) {        dashboardLink.addEventListener('click', function(e) {            e.preventDefault();            window.location.href = '/dashboard';        });    }        // Carregar dados do usuário (nome e avatar)    (function loadUserData() {        try {            const userData = localStorage.getItem('userData');            if (!userData) return;                        const user = JSON.parse(userData);            const nome = (user.nome || 'Usuário').trim();            const primeiroNome = nome.split(/\s+/)[0];                        // Atualizar nome            const userNameDisplay = document.getElementById('user-name-display');            if (userNameDisplay) {                userNameDisplay.textContent = primeiroNome;            }                        // Atualizar avatar            const avatarImg = document.getElementById('user-avatar');            if (avatarImg) {                const avatarPath = `/avatars/${primeiroNome}.webp`;                const img = new Image();                img.onload = function() {                    avatarImg.src = avatarPath;                };                img.onerror = function() {                    avatarImg.src = '/avatars/default.webp';                };                img.src = avatarPath;            }        } catch (error) {            console.error('Erro ao carregar dados do usuário:', error);        }    })();</script>
<!-- ALUFORCE: Confirm Dialog Profissional v2.0 --><script src="/_shared/confirm-dialog.js?v=20260217"></script>