<!-- Modal de Configurações do Sistema - Enterprise v4.0 -->
<div id="modal-configuracoes" class="modal-config" style="display:none;" aria-hidden="true">
    <div class="modal-config-content">
        <!-- Header do Modal - Enterprise -->
        <div class="modal-config-header">
            <div class="modal-config-brand">
                <img src="/images/Logo Monocromatico - Azul - Aluforce.webp" alt="Aluforce" class="modal-config-logo" onerror="this.style.display='none'">
                <span class="modal-config-title">Configurações do Sistema</span>
            </div>
            <div class="modal-config-search">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Buscar configuração..." id="config-search-input">
                <button type="button" class="search-clear-btn" onclick="limparBuscaConfig()" title="Limpar busca">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <button type="button" class="modal-config-close modal-config-tooltip" data-tooltip="Fechar (ESC)" id="btn-fechar-config" title="Fechar (ESC)" aria-label="Fechar modal">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Abas de navegação -->
        <div class="modal-config-tabs">
            <button class="modal-config-tab active" data-tab="principais">Principais</button>
            <button class="modal-config-tab" data-tab="recursos-humanos">Recursos Humanos</button>
            <button class="modal-config-tab" data-tab="financas">Finanças</button>
            <button class="modal-config-tab" data-tab="clientes-fornecedores">Clientes e Fornecedores</button>
            <button class="modal-config-tab" data-tab="venda-produtos">Venda de Produtos</button>
            <button class="modal-config-tab" data-tab="venda-servicos">Venda de Serviços</button>
        </div>

        <!-- Conteúdo das Abas -->
        <div class="modal-config-body">
            <!-- Aba Principais -->
            <div class="modal-config-tab-content active" id="tab-principais">
                <div class="modal-config-grid">
                    <div class="modal-config-card" onclick="abrirConfiguracao('empresa')" tabindex="0">
                        <div class="modal-config-card-icon blue">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Dados da Minha Empresa</h3>
                            <p class="modal-config-card-subtitle">Informações cadastrais e dados fiscais</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('categorias')" tabindex="0">
                        <div class="modal-config-card-icon blue">
                            <i class="fas fa-folder"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Categorias</h3>
                            <p class="modal-config-card-subtitle">Organize produtos e serviços por categoria</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('departamentos')" tabindex="0">
                        <div class="modal-config-card-icon blue">
                            <i class="fas fa-sitemap"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Departamentos</h3>
                            <p class="modal-config-card-subtitle">Estrutura organizacional da empresa</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('projetos')" tabindex="0">
                        <div class="modal-config-card-icon blue">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Projetos</h3>
                            <p class="modal-config-card-subtitle">Gestão e acompanhamento de projetos</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('certificado-digital')" tabindex="0">
                        <div class="modal-config-card-icon red">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Certificado Digital (Modelo A1)</h3>
                            <p class="modal-config-card-subtitle">Upload e validação do certificado</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('importacao-nfe')" tabindex="0">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-file-invoice"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Importação da NF-e do Fornecedor</h3>
                            <p class="modal-config-card-subtitle">Configurações de importação automática</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba Recursos Humanos -->
            <div class="modal-config-tab-content" id="tab-recursos-humanos">
                <div class="modal-config-grid">
                    <div class="modal-config-card" onclick="abrirConfiguracao('funcionarios')">
                        <div class="modal-config-card-icon green">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Gestão de Funcionários</h3>
                            <p class="modal-config-card-subtitle">Cadastro e gerenciamento de colaboradores</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('cargos')">
                        <div class="modal-config-card-icon green">
                            <i class="fas fa-id-badge"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Cargos e Funções</h3>
                            <p class="modal-config-card-subtitle">Definir hierarquia organizacional</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('folha-pagamento')">
                        <div class="modal-config-card-icon green">
                            <i class="fas fa-money-check-alt"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Folha de Pagamento</h3>
                            <p class="modal-config-card-subtitle">Configurações de salários e benefícios</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('ponto-eletronico')">
                        <div class="modal-config-card-icon green">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Ponto Eletrônico</h3>
                            <p class="modal-config-card-subtitle">Controle de jornada de trabalho</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba Finanças -->
            <div class="modal-config-tab-content" id="tab-financas">
                <div class="modal-config-grid">
                    <div class="modal-config-card" onclick="abrirConfiguracao('financas')">
                        <div class="modal-config-card-icon orange">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Configurações Gerais</h3>
                            <p class="modal-config-card-subtitle">Juros, multas e cobrança</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('plano-contas')">
                        <div class="modal-config-card-icon orange">
                            <i class="fas fa-list-alt"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Plano de Contas</h3>
                            <p class="modal-config-card-subtitle">Estrutura contábil da empresa</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('contas-bancarias')">
                        <div class="modal-config-card-icon orange">
                            <i class="fas fa-university"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Contas Bancárias</h3>
                            <p class="modal-config-card-subtitle">Gestão de contas e conciliação</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('formas-pagamento')">
                        <div class="modal-config-card-icon orange">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Formas de Pagamento</h3>
                            <p class="modal-config-card-subtitle">Configurar métodos de pagamento</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('impostos')">
                        <div class="modal-config-card-icon orange">
                            <i class="fas fa-percent"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Configuração de Impostos</h3>
                            <p class="modal-config-card-subtitle">Alíquotas e regimes tributários</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba Clientes e Fornecedores -->
            <div class="modal-config-tab-content" id="tab-clientes-fornecedores">
                <div class="modal-config-grid">
                    <div class="modal-config-card" onclick="abrirConfiguracao('clientes-fornecedores')">
                        <div class="modal-config-card-icon purple">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Configurações Gerais</h3>
                            <p class="modal-config-card-subtitle">Validações, crédito e tags</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('regioes-venda')">
                        <div class="modal-config-card-icon purple">
                            <i class="fas fa-map-marked-alt"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Regiões de Venda</h3>
                            <p class="modal-config-card-subtitle">Territórios e áreas de atuação</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('condicoes-pagamento')">
                        <div class="modal-config-card-icon purple">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Condições de Pagamento</h3>
                            <p class="modal-config-card-subtitle">Prazos e condições comerciais</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('compradores')">
                        <div class="modal-config-card-icon purple">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Compradores</h3>
                            <p class="modal-config-card-subtitle">Equipe de compras e suprimentos</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba Venda de Produtos -->
            <div class="modal-config-tab-content" id="tab-venda-produtos">
                <div class="modal-config-grid">
                    <div class="modal-config-card" onclick="abrirConfiguracao('venda-produtos')">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Configurações Gerais</h3>
                            <p class="modal-config-card-subtitle">Etapas, preços e estoque</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('familias-produtos')">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-boxes"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Famílias de Produtos</h3>
                            <p class="modal-config-card-subtitle">Organização por categorias</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('caracteristicas-produtos')">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-tags"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Características de Produtos</h3>
                            <p class="modal-config-card-subtitle">Atributos e especificações</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('vendedores')">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Vendedores</h3>
                            <p class="modal-config-card-subtitle">Equipe de vendas e comissões</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('tabelas-preco')">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Tabelas de Preço</h3>
                            <p class="modal-config-card-subtitle">Precificação e descontos</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('unidades-medida')">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-ruler"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Unidades de Medida</h3>
                            <p class="modal-config-card-subtitle">Conversões e padrões</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('ncm')">
                        <div class="modal-config-card-icon teal">
                            <i class="fas fa-barcode"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Códigos NCM</h3>
                            <p class="modal-config-card-subtitle">Nomenclatura Comum do Mercosul</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba Venda de Serviços -->
            <div class="modal-config-tab-content" id="tab-venda-servicos">
                <div class="modal-config-grid">
                    <div class="modal-config-card" onclick="abrirConfiguracao('venda-servicos')">
                        <div class="modal-config-card-icon red">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Configurações Gerais</h3>
                            <p class="modal-config-card-subtitle">Etapas de OS e numeração</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('tipos-servico')">
                        <div class="modal-config-card-icon red">
                            <i class="fas fa-concierge-bell"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Tipos de Serviço</h3>
                            <p class="modal-config-card-subtitle">Categorias de serviços prestados</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('contratos')">
                        <div class="modal-config-card-icon red">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>Modelos de Contrato</h3>
                            <p class="modal-config-card-subtitle">Templates e cláusulas padrão</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('sla')">
                        <div class="modal-config-card-icon red">
                            <i class="fas fa-stopwatch"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>SLA de Atendimento</h3>
                            <p class="modal-config-card-subtitle">Níveis de serviço acordados</p>
                        </div>
                    </div>

                    <div class="modal-config-card" onclick="abrirConfiguracao('nfse')">
                        <div class="modal-config-card-icon red">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <div class="modal-config-card-content">
                            <h3>NFS-e</h3>
                            <p class="modal-config-card-subtitle">Nota Fiscal de Serviços Eletrônica</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer do Modal - Enterprise -->
        <div class="modal-config-footer">
            <button type="button" class="modal-config-footer-link" onclick="if(typeof abrirSobreLancamentos==='function') abrirSobreLancamentos(event); else console.warn('abrirSobreLancamentos não carregada');">
                <i class="fas fa-info-circle"></i>
                Sobre os Lançamentos
            </button>
            <button type="button" class="modal-config-footer-link" onclick="if(typeof abrirHistoricoAlteracoes==='function') abrirHistoricoAlteracoes(event); else console.warn('abrirHistoricoAlteracoes não carregada');">
                <i class="fas fa-history"></i>
                Histórico de alterações
            </button>
        </div>
    </div>
</div>
