/**
 * ALUFORCE - Tooltips Profissionais
 * Sistema unificado de tooltips para todos os módulos
 * Baseado no padrão do módulo PCP
 */

/* Desabilita completamente o tooltip nativo do navegador */
.sidebar-btn[data-title],
.sidebar-nav .sidebar-btn[data-title],
button.sidebar-btn[data-title],
a.sidebar-btn[data-title],
.module-card[data-title],
a.module-card[data-title],
.btn[data-title],
button.btn[data-title],
.header-btn[data-title],
.btn-icon[data-title] {
    position: relative;
}

/* Remove o atributo title temporariamente no hover para evitar tooltip nativo */
.sidebar-btn[data-title]:hover::before,
.module-card[data-title]:hover::before,
.btn[data-title]:hover::before,
.btn-icon[data-title]:hover::before {
    content: '' !important;
}

/* ============================================
   TOOLTIPS PARA SIDEBAR BUTTONS
   ============================================ */

.sidebar-btn[data-title]::after,
.sidebar-nav .sidebar-btn[data-title]::after,
button.sidebar-btn[data-title]::after,
a.sidebar-btn[data-title]::after {
    content: attr(data-title);
    position: absolute;
    left: calc(100% + 12px);
    top: 50%;
    transform: translateY(-50%) translateX(-8px);
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: #ffffff;
    padding: 8px 14px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 500;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.25),
                0 8px 10px -6px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Seta do tooltip */
.sidebar-btn[data-title]::before,
.sidebar-nav .sidebar-btn[data-title]::before,
button.sidebar-btn[data-title]::before,
a.sidebar-btn[data-title]::before {
    content: '';
    position: absolute;
    left: calc(100% + 6px);
    top: 50%;
    transform: translateY(-50%);
    border: 6px solid transparent;
    border-right-color: #1e293b;
    opacity: 0;
    visibility: hidden;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 9999;
    filter: drop-shadow(-2px 0 3px rgba(0, 0, 0, 0.1));
}

/* Hover state */
.sidebar-btn[data-title]:hover::after,
.sidebar-nav .sidebar-btn[data-title]:hover::after,
button.sidebar-btn[data-title]:hover::after,
a.sidebar-btn[data-title]:hover::after {
    opacity: 1;
    visibility: visible;
    transform: translateY(-50%) translateX(0);
}

.sidebar-btn[data-title]:hover::before,
.sidebar-nav .sidebar-btn[data-title]:hover::before,
button.sidebar-btn[data-title]:hover::before,
a.sidebar-btn[data-title]:hover::before {
    opacity: 1;
    visibility: visible;
}

/* ============================================
   TOOLTIPS PARA MODULE CARDS (Dashboard)
   ============================================ */

.module-card[data-title],
a.module-card[data-title] {
    position: relative;
}

.module-card[data-title]::after,
a.module-card[data-title]::after {
    content: attr(data-title);
    position: absolute;
    bottom: calc(100% + 10px);
    left: 50%;
    transform: translateX(-50%) translateY(4px);
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: #ffffff;
    padding: 10px 16px;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 500;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
    box-shadow: 0 15px 35px -8px rgba(0, 0, 0, 0.3),
                0 10px 15px -10px rgba(0, 0, 0, 0.15);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.12);
    max-width: 300px;
    text-align: center;
}

/* Seta do tooltip de module-card */
.module-card[data-title]::before,
a.module-card[data-title]::before {
    content: '';
    position: absolute;
    bottom: calc(100% + 2px);
    left: 50%;
    transform: translateX(-50%);
    border: 8px solid transparent;
    border-top-color: #1e293b;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
}

/* Hover state para module-card */
.module-card[data-title]:hover::after,
a.module-card[data-title]:hover::after {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

.module-card[data-title]:hover::before,
a.module-card[data-title]:hover::before {
    opacity: 1;
    visibility: visible;
}

/* ============================================
   TOOLTIPS PARA BOTÕES GENÉRICOS
   ============================================ */

.btn[data-title],
button[data-title]:not(.sidebar-btn):not(.module-card),
.header-btn[data-title] {
    position: relative;
}

.btn[data-title]::after,
button[data-title]:not(.sidebar-btn):not(.module-card)::after,
.header-btn[data-title]::after {
    content: attr(data-title);
    position: absolute;
    bottom: calc(100% + 10px);
    left: 50%;
    transform: translateX(-50%) translateY(4px);
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: #ffffff;
    padding: 7px 12px;
    border-radius: 7px;
    font-size: 12px;
    font-weight: 500;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.25),
                0 8px 10px -6px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Seta para botões genéricos */
.btn[data-title]::before,
button[data-title]:not(.sidebar-btn):not(.module-card)::before,
.header-btn[data-title]::before {
    content: '';
    position: absolute;
    bottom: calc(100% + 3px);
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: #1e293b;
    opacity: 0;
    visibility: hidden;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

/* Hover state para botões genéricos */
.btn[data-title]:hover::after,
button[data-title]:not(.sidebar-btn):not(.module-card):hover::after,
.header-btn[data-title]:hover::after {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

.btn[data-title]:hover::before,
button[data-title]:not(.sidebar-btn):not(.module-card):hover::before,
.header-btn[data-title]:hover::before {
    opacity: 1;
    visibility: hidden;
}

/* ============================================
   TOOLTIPS PARA ÍCONES DE AÇÃO (btn-icon)
   ============================================ */

.btn-icon[data-title] {
    position: relative;
}

.btn-icon[data-title]::after {
    content: attr(data-title);
    position: absolute;
    bottom: calc(100% + 10px);
    left: 50%;
    transform: translateX(-50%) translateY(5px);
    padding: 7px 13px;
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: white;
    font-size: 12px;
    font-weight: 500;
    white-space: nowrap;
    border-radius: 7px;
    opacity: 0;
    visibility: hidden;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
    pointer-events: none;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.25),
                0 8px 10px -6px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(8px);
}

.btn-icon[data-title]::before {
    content: '';
    position: absolute;
    bottom: calc(100% + 3px);
    left: 50%;
    transform: translateX(-50%);
    border: 6px solid transparent;
    border-top-color: #1e293b;
    opacity: 0;
    visibility: hidden;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.btn-icon[data-title]:hover::after,
.btn-icon[data-title]:hover::before {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

/* ============================================
   TOOLTIPS COM CORES TEMÁTICAS
   ============================================ */

/* Tooltip Success */
.tooltip-success[data-title]::after,
[data-tooltip-type="success"][data-title]::after {
    background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;
    border-color: rgba(16, 185, 129, 0.2) !important;
}

.tooltip-success[data-title]::before,
[data-tooltip-type="success"][data-title]::before {
    border-top-color: #059669 !important;
}

/* Tooltip Warning */
.tooltip-warning[data-title]::after,
[data-tooltip-type="warning"][data-title]::after {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
    border-color: rgba(245, 158, 11, 0.2) !important;
}

.tooltip-warning[data-title]::before,
[data-tooltip-type="warning"][data-title]::before {
    border-top-color: #f59e0b !important;
}

/* Tooltip Danger */
.tooltip-danger[data-title]::after,
[data-tooltip-type="danger"][data-title]::after {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
    border-color: rgba(239, 68, 68, 0.2) !important;
}

.tooltip-danger[data-title]::before,
[data-tooltip-type="danger"][data-title]::before {
    border-top-color: #dc2626 !important;
}

/* Tooltip Info */
.tooltip-info[data-title]::after,
[data-tooltip-type="info"][data-title]::after {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
    border-color: rgba(59, 130, 246, 0.2) !important;
}

.tooltip-info[data-title]::before,
[data-tooltip-type="info"][data-title]::before {
    border-top-color: #3b82f6 !important;
}

/* ============================================
   RESPONSIVIDADE
   ============================================ */

@media (max-width: 768px) {
    /* Tooltips mais compactos em mobile */
    .sidebar-btn[data-title]::after,
    .module-card[data-title]::after,
    .btn[data-title]::after,
    .btn-icon[data-title]::after {
        font-size: 11px !important;
        padding: 6px 10px !important;
    }
    
    /* Desabilitar tooltips de sidebar em mobile para não conflitar com touch */
    .sidebar-btn[data-title]::after,
    .sidebar-btn[data-title]::before {
        display: none !important;
    }
}

/* ============================================
   ANIMAÇÕES SUAVES
   ============================================ */

@keyframes tooltip-fade-in {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(4px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes tooltip-fade-in-sidebar {
    from {
        opacity: 0;
        transform: translateY(-50%) translateX(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(-50%) translateX(0);
    }
}

/* ============================================
   MODO ESCURO
   ============================================ */

body.dark-mode .sidebar-btn[data-title]::after,
body.dark-mode .module-card[data-title]::after,
body.dark-mode .btn[data-title]::after,
body.dark-mode .btn-icon[data-title]::after {
    background: linear-gradient(135deg, #0f172a 0%, #020617 100%);
    border-color: rgba(255, 255, 255, 0.15);
    box-shadow: 0 15px 35px -8px rgba(0, 0, 0, 0.5),
                0 10px 15px -10px rgba(0, 0, 0, 0.3);
}

body.dark-mode .sidebar-btn[data-title]::before,
body.dark-mode .module-card[data-title]::before,
body.dark-mode .btn[data-title]::before,
body.dark-mode .btn-icon[data-title]::before {
    border-top-color: #0f172a;
}
