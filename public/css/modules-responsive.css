/**
 * ALUFORCE - CSS Responsivo para Módulos
 * Complementa o responsive.css com estilos específicos de módulos
 * Versão: 2026-02-07 - Sidebar compacta no mobile (só ícones)
 */

/* ===== SIDEBAR COMPACTA PARA TODOS MÓDULOS (MOBILE) ===== */

@media (max-width: 767px) {
    /* App Container */
    .app-container {
        flex-direction: row !important;
    }
    
    /* Sidebar compacta - só ícones */
    .app-container > .sidebar,
    .sidebar {
        position: fixed !important;
        left: 0 !important;
        top: 0 !important;
        width: 56px !important;
        min-width: 56px !important;
        max-width: 56px !important;
        height: 100vh !important;
        transform: none !important;
        z-index: 1002 !important;
        padding: 12px 0 !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        overflow-y: auto !important;
        overflow-x: hidden !important;
        background: #1a1a2e !important;
    }
    
    /* Esconder textos da sidebar */
    .sidebar-btn::after,
    .sidebar span:not(.badge),
    .sidebar .nav-text,
    .sidebar .sidebar-label {
        display: none !important;
    }
    
    /* Botões da sidebar */
    .app-container > .sidebar .sidebar-btn,
    .sidebar .sidebar-btn {
        width: 40px !important;
        height: 40px !important;
        padding: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        border-radius: 10px !important;
        margin: 2px 0 !important;
    }
    
    .sidebar-btn i {
        font-size: 18px !important;
        margin: 0 !important;
    }
    
    /* Header ajustado */
    .app-container .header,
    .header {
        position: fixed !important;
        top: 0 !important;
        left: 56px !important;
        right: 0 !important;
        width: calc(100% - 56px) !important;
        z-index: 1001 !important;
        height: 56px !important;
    }
    
    /* Main Area */
    .app-container .main-area,
    .main-area {
        margin-left: 56px !important;
        margin-top: 56px !important;
        width: calc(100% - 56px) !important;
        max-width: calc(100vw - 56px) !important;
        overflow-x: hidden !important;
    }
    
    /* Esconder botão menu hamburguer */
    .mobile-menu-btn,
    .menu-toggle,
    .hamburger {
        display: none !important;
    }
}

/* ===== PCP RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Drawer de Materiais */
    .drawer-panel,
    .materials-drawer {
        width: 100% !important;
        max-width: 100% !important;
    }
    
    /* Ordens de Produção */
    .ordens-grid,
    .orders-grid {
        grid-template-columns: 1fr !important;
    }
    
    .ordem-card,
    .order-card {
        padding: 16px !important;
    }
    
    /* Estoque */
    .estoque-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .estoque-item {
        padding: 12px !important;
    }
}

@media (min-width: 768px) and (max-width: 991px) {
    .ordens-grid,
    .orders-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .estoque-grid {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

/* ===== COMPRAS RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Dashboard Cards */
    .dashboard-stats {
        grid-template-columns: 1fr !important;
    }
    
    /* Cotações e Pedidos */
    .cotacao-card,
    .pedido-card,
    .requisicao-card {
        padding: 14px !important;
    }
    
    .cotacao-header,
    .pedido-header {
        flex-direction: column;
        gap: 8px;
    }
    
    /* Fornecedores */
    .fornecedor-grid {
        grid-template-columns: 1fr !important;
    }
}

@media (min-width: 768px) and (max-width: 991px) {
    .dashboard-stats {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .fornecedor-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* ===== VENDAS RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Pipeline/Kanban */
    .pipeline-container,
    .kanban-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 16px;
    }
    
    .pipeline-board,
    .kanban-board {
        min-width: max-content;
    }
    
    .pipeline-column,
    .kanban-column {
        min-width: 280px !important;
        width: 280px !important;
    }
    
    /* Cards de Oportunidade */
    .oportunidade-card,
    .deal-card {
        padding: 12px !important;
    }
    
    /* Filtros */
    .vendas-filtros,
    .sales-filters {
        flex-wrap: wrap;
    }
    
    .vendas-filtros select,
    .vendas-filtros input {
        flex: 1;
        min-width: calc(50% - 4px);
    }
}

@media (min-width: 768px) and (max-width: 991px) {
    .pipeline-column,
    .kanban-column {
        min-width: 240px !important;
    }
}

/* ===== RH RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Grid de Funcionários */
    .funcionarios-grid,
    .employees-grid {
        grid-template-columns: 1fr !important;
    }
    
    .funcionario-card,
    .employee-card {
        flex-direction: column;
        text-align: center;
        padding: 16px !important;
    }
    
    .funcionario-avatar {
        margin: 0 auto 12px !important;
    }
    
    /* Controle de Ponto */
    .ponto-grid {
        grid-template-columns: 1fr !important;
    }
    
    .ponto-card {
        padding: 16px !important;
    }
    
    /* Férias e Afastamentos */
    .ferias-timeline {
        padding-left: 24px !important;
    }
}

@media (min-width: 768px) and (max-width: 991px) {
    .funcionarios-grid,
    .employees-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
    
    .ponto-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* ===== NFE RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Lista de Notas */
    .nfe-lista,
    .notas-grid {
        grid-template-columns: 1fr !important;
    }
    
    .nfe-card {
        padding: 14px !important;
    }
    
    .nfe-card-header {
        flex-direction: column;
        gap: 8px;
    }
    
    .nfe-card-actions {
        width: 100%;
        justify-content: space-between;
    }
    
    /* Emissão de Nota */
    .emissao-form {
        padding: 16px !important;
    }
    
    .produtos-nfe-table {
        display: block;
        overflow-x: auto;
    }
}

@media (min-width: 768px) and (max-width: 991px) {
    .nfe-lista,
    .notas-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* ===== FATURAMENTO RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Grid de Faturas */
    .faturas-grid {
        grid-template-columns: 1fr !important;
    }
    
    .fatura-card {
        padding: 14px !important;
    }
    
    /* Resumo */
    .faturamento-resumo {
        flex-direction: column;
        gap: 12px;
    }
    
    .resumo-item {
        width: 100%;
        text-align: center;
    }
}

/* ===== CONSULTORIA RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Projetos */
    .projetos-grid {
        grid-template-columns: 1fr !important;
    }
    
    .projeto-card {
        padding: 16px !important;
    }
    
    /* Timeline */
    .projeto-timeline {
        padding-left: 20px !important;
    }
    
    .timeline-item {
        padding: 12px !important;
    }
}

/* ===== PAINEL DE CONTROLE RESPONSIVO ===== */

@media (max-width: 767px) {
    /* Saudação Premium */
    .greeting-premium {
        padding: 0 8px;
    }
    
    .greeting-text,
    #greeting-text {
        font-size: 22px !important;
    }
    
    .greeting-name,
    #greeting-name {
        display: block;
    }
    
    /* Cards de Módulos */
    .modules-container {
        padding: 0 4px;
    }
    
    /* User Dropdown */
    .user-profile-header .user-name {
        display: none;
    }
}

/* ===== RELATÓRIOS RESPONSIVO ===== */

@media (max-width: 767px) {
    .relatorio-container {
        padding: 12px !important;
    }
    
    .relatorio-header {
        flex-direction: column;
        gap: 12px;
    }
    
    .relatorio-filtros {
        flex-direction: column;
        gap: 8px;
    }
    
    .relatorio-filtros > * {
        width: 100%;
    }
    
    .relatorio-export-btns {
        width: 100%;
        flex-direction: column;
        gap: 8px;
    }
    
    .relatorio-export-btns .btn {
        width: 100%;
    }
}

/* ===== CONFIGURAÇÕES RESPONSIVO ===== */

@media (max-width: 767px) {
    .config-container {
        padding: 12px !important;
    }
    
    .config-sidebar {
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        width: 240px;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        z-index: 9999;
        background: white;
    }
    
    .config-sidebar.open {
        transform: translateX(0);
    }
    
    .config-content {
        margin-left: 0 !important;
    }
    
    .config-section {
        padding: 16px !important;
    }
}

/* ===== AJUSTES GERAIS PARA TODOS OS MÓDULOS ===== */

@media (max-width: 767px) {
    /* Garantir que conteúdo não fique sob o header */
    .page-content,
    .module-content {
        padding-top: 60px !important;
    }
    
    /* Ajustar tamanho de texto */
    h1 { font-size: 22px !important; }
    h2 { font-size: 18px !important; }
    h3 { font-size: 16px !important; }
    h4 { font-size: 14px !important; }
    
    /* Espaçamento entre seções */
    section,
    .section {
        margin-bottom: 20px !important;
    }
    
    /* Botão Menu Mobile */
    .mobile-menu-btn {
        display: flex !important;
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: 50px;
        height: 50px;
        background: var(--primary-color, #3b82f6);
        color: white;
        border-radius: 50%;
        border: none;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        z-index: 9997;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        cursor: pointer;
    }
}

@media (min-width: 768px) {
    .mobile-menu-btn {
        display: none !important;
    }
}

/* ===== ANIMAÇÕES OTIMIZADAS PARA MOBILE ===== */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
