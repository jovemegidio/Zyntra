// Script para adicionar fonte Outfit a todos os m√≥dulos exceto Vendas// Aluforce V2.0const fs = require('fs');const path = require('path');const baseDir = 'c:\\Users\\egidio\\Music\\Sistema - ALUFORCE - V.2\\modules';// M√≥dulos para atualizar (exceto Vendas)const modulos = ['Compras', 'Financeiro', 'NFe', 'PCP', 'RH', 'Faturamento'];// Link da fonte Outfitconst outfitLink = '<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">';// CSS para aplicar a fonteconst outfitCSS = `    <style>        /* Fonte Outfit Global */        * {            font-family: 'Outfit', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;        }    </style>`;let totalFiles = 0;let atualizados = 0;let jaTemOutfit = 0;function getHtmlFiles(dir, files = []) {    if (!fs.existsSync(dir)) return files;        const items = fs.readdirSync(dir);        for (const item of items) {        const fullPath = path.join(dir, item);        const stat = fs.statSync(fullPath);                if (stat.isDirectory()) {            // Ignorar pastas espec√≠ficas            if (!['node_modules', 'coverage', 'screenshots', '.git'].includes(item)) {                getHtmlFiles(fullPath, files);            }        } else if (item.endsWith('.html')) {            files.push(fullPath);        }    }        return files;}console.log('=== APLICANDO FONTE OUTFIT ===');for (const modulo of modulos) {    const moduloPath = path.join(baseDir, modulo);        if (!fs.existsSync(moduloPath)) {        console.log(`‚ö†Ô∏è  M√≥dulo n√£o encontrado: ${modulo}`);        continue;    }        console.log(`üìÅ Processando m√≥dulo: ${modulo}`);        const htmlFiles = getHtmlFiles(moduloPath);        for (const filePath of htmlFiles) {        totalFiles++;        let content = fs.readFileSync(filePath, 'utf8');        const fileName = path.basename(filePath);                // Verificar se j√° tem Outfit        if (content.includes('Outfit')) {            jaTemOutfit++;            console.log(`  ‚úì J√° tem Outfit: ${fileName}`);            continue;        }                // Verificar se tem <head>        const headMatch = content.match(/<head[^>]*>/i);        if (headMatch) {            // Adicionar link do Outfit ap√≥s <head>            const insertPoint = content.indexOf(headMatch[0]) + headMatch[0].length;            const newContent = content.slice(0, insertPoint) +                               '    ' + outfitLink + outfitCSS +                               content.slice(insertPoint);                        // Salvar arquivo            fs.writeFileSync(filePath, newContent, 'utf8');            atualizados++;            console.log(`  ‚úÖ Atualizado: ${fileName}`);        } else {            console.log(`  ‚ö†Ô∏è  Sem <head>: ${fileName}`);        }    }}console.log('========================================');console.log(' Fonte Outfit aplicada!');console.log('========================================');console.log(` Total de arquivos: ${totalFiles}`);console.log(` J√° tinham Outfit: ${jaTemOutfit}`);console.log(` Atualizados: ${atualizados}`);console.log('========================================');